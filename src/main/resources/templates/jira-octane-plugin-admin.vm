<html>
<head>
    <title>ALM Octane Configuration</title>
    <meta name="decorator" content="atl.admin">
    $webResourceManager.requireResourcesForContext("jira-octane-plugin-admin-resource-context")
</head>
<body>

<h2>ALM Octane Configuration <input type="button" class="aui-button" id="show-proxy-settings" value="Proxy Settings"></h2>

<h3 class="formtitle">Space</h3>
<form id="octane-admin" class="aui">
    <div class="form-body">
        <div class="field-group">
            <label for="location">Location</label>
            <input type="text" id="location" name="location" class="text medium-long-field">
            <div class="description">Enter the URL of your ALM Octane application.
                <br/>For example: http://myServer.myCompany.com:8081/ui/?p=1001/1002
            </div>
        </div>
        <div class="field-group">
            <label for="clientId">Client ID</label>
            <input type="text" id="clientId" name="clientId" class="text medium-long-field" autocomplete="off">
            <div class="description">Client ID used for logging into the ALM Octane server</div>
        </div>
        <div class="field-group">
            <label for="clientSecret" >Client secret</label>
            <input type="password" id="clientSecret" name="clientSecret" class="text medium-long-field" autocomplete="off">
            <div class="description">Client secret used for logging into the ALM Octane server</div>
        </div>

         <div class="field-group">
            <div id="button-group">
                <input type="button" class="aui-button" id="save-space-configuration" value="Save">
                <span id="spaceStatus"></span>
            </div>
        </div>

    </div>
</form>

<h3 class="formtitle">Workspaces</h3>
<p><button id="show-add-dialog" class="aui-button aui-button-link">Create</button> a new ALM Octane workspace configuration</p>
<table id="configuration-rest-table"></table>

<section id="config-dialog" class="aui-dialog2 aui-dialog2-large aui-layer" data-aui-modal="true" role="dialog" aria-hidden="true">
    <header class="aui-dialog2-header">
        <h2 class="aui-dialog2-header-main" id="config-dialog-title">
            Create
        </h2>
    </header>
    <div class="aui-dialog2-content">
        <form class="aui">
            <div class="field-group" id="workspace-field-group">
                <label  for="workspaceSelector">Workspace</label>
                <input type='hidden' name='workspaceSelector' id='workspaceSelector' class="text medium-long-field"/>
                <div class="description"></div>
            </div>
            <div class="field-group">
                <label for="octaneUdf">Mapping field</label>
                <input type="text" id="octaneUdf" name="octaneUdf" class="text medium-long-field">
                <div class="description">ALM Octane user-defined field for mapping Jira issues.</div>
            </div>
            <div class="field-group">
                <label for="octaneEntityTypes">Entity types</label>
                <input type="text" id="octaneEntityTypes" name="octaneUdf" class="text medium-long-field" disabled>
                <span id="refreshOctaneEntityTypesSpinner"></span>
                <button id="refreshOctaneEntityTypesButton" class="aui-button aui-button-subtle" resolved=""><span class="aui-icon aui-icon-small aui-iconfont-refresh"></span></button>
                <div class="description">ALM Octane entity types that have the 'Mapping field' defined.</div>
            </div>
            <div class="field-group">
                <label for="jiraProjectsSelector">Jira project keys</label>
                <input type='hidden' name='jiraProjectsSelector' id='jiraProjectsSelector' class="text medium-long-field"/>
                <div class="description">Supported Jira projects. Each Jira project can be selected for one ALM Octane workspace only.</div>
            </div>
            <div class="field-group">
                <label for="jiraIssueTypesSelector">Jira issue types</label>
                <input type='hidden' name='jiraIssueTypesSelector' id='jiraIssueTypesSelector' class="text medium-long-field"/>
                <div class="description">Supported Jira issue types. If empty, all issue types are supported.</div>
            </div>
            <div class="field-group">
                <div id="workspaceStatus"></div>
            </div>
        </form>
    </div>
    <footer class="aui-dialog2-footer">
        <div class="aui-dialog2-footer-actions">
            <button id="dialog-submit-button" class="aui-button aui-button-primary">Save</button>
            <button id="dialog-cancel-button" class="aui-button aui-button-link">Cancel</button>
        </div>
    </footer>
</section>
<section id="warning-dialog" class="aui-dialog2 aui-dialog2-small aui-dialog2-warning aui-layer" role="dialog" aria-hidden="true">
    <header class="aui-dialog2-header">
        <h2 class="aui-dialog2-header-main">Delete</h2>
    </header>
    <div class="aui-dialog2-content">

        <p>Are you sure you want to delete '<span id="workspace-to-delete"></span>' workspace configuration?</p>
    </div>
    <footer class="aui-dialog2-footer">
        <div class="aui-dialog2-footer-actions">
            <button id="warning-dialog-confirm" class="aui-button aui-button-primary">Delete</button>
            <button id="warning-dialog-cancel" class="aui-button aui-button-link">Cancel</button>
        </div>
    </footer>
</section>
<section id="proxy-dialog" class="aui-dialog2 aui-dialog2-medium  aui-layer" data-aui-modal="true" role="dialog" aria-hidden="true">
    <header class="aui-dialog2-header">
        <h2 class="aui-dialog2-header-main" id="proxy-dialog-title">
            Proxy settings
        </h2>
    </header>
    <div class="aui-dialog2-content">
        <form class="aui">
            <div class="field-group">
                <label  for="proxyHost">Host</label>
                <input type="text" id="proxyHost" name="proxyHost" class="text " >
                <div class="description">Proxy server host name (without http://)</div>
            </div>
            <div class="field-group">
                <label  for="proxyPort">Port</label>
                <input type="text" id="proxyPort" name="proxyPort" class="text " maxlength="5">
                <div class="description"></div>
            </div>
            <div class="field-group">
                <label  for="proxyUser">Username</label>
                <input type="text" id="proxyUser" name="proxyUser" class="text ">
                <div class="description"></div>
            </div>
            <div class="field-group">
                <label  for="proxyPassword">Password</label>
                <input type="password" id="proxyPassword" name="proxyPassword" class="text ">
                <div class="description"></div>
            </div>
            <div class="field-group">
                <div id="proxyStatus"></div>
            </div>
        </form>
    </div>
    <footer class="aui-dialog2-footer">
        <div class="aui-dialog2-footer-actions">
            <button id="proxy-submit-button" class="aui-button aui-button-primary">Save</button>
            <button id="proxy-cancel-button" class="aui-button aui-button-link">Cancel</button>
        </div>
    </footer>
</section>

</body>
</html>